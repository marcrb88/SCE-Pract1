"use strict";

exports.__esModule = true;
exports.getSDKCookie = getSDKCookie;
exports.writeSDKCookie = writeSDKCookie;
var _sdkConstants = require("@paypal/sdk-constants");
var _constants = require("./constants");
function getDefaultSDKCookie() {
  return {};
}
function getSDKCookie(req, cookiesOverride) {
  const cookies = cookiesOverride || req.cookies;
  if (!cookies) {
    throw new Error(`No cookies found or passed`);
  }
  return cookies[_constants.JS_SDK_COOKIE] ? JSON.parse(cookies[_constants.JS_SDK_COOKIE]) : getDefaultSDKCookie();
}
function writeSDKCookie(res, sdkCookie) {
  const expires = new Date(new Date().getTime() + 1000 * 60 * 60 * 24 * 365 * 10);
  res.cookie(_constants.JS_SDK_COOKIE, JSON.stringify(sdkCookie), {
    expires
  });
}